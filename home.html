<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles_home.css">
    <link rel="icon" href="img/iconi.png" type="image/png">
    <title>Home</title>

</head>

<body>

    <div id="preloader">
        <div class="loader"></div>
    </div>

    <nav class="navbar">
        <a href="#" class="navbar-brand">Library Online</a>
        <ul class="navbar-nav">
            <li class="nav-item"><a href="home.html" class="nav-link">HOME</a></li>
            <li class="nav-item"><a href="destaques.html" class="nav-link">DESTAQUES</a></li>
            <li class="nav-item"><a href="#autores" class="nav-link">AUTORES</a></li>
            <li class="nav-item"><a href="/index.html" class="nav-link">SAIR</a></li>
        </ul>
    </nav>

    <main class="conteudo">
        <h1 class="titulo-home">HOME</h1>

        <section class="sessao">
            <h2>RESERVADOS</h2>
            <div class="grade-reservados">
                <div class="livro">
                    <img src="img/os misera.jpg" alt="Livro 1">
                    <button class="btn-ler">Reservado</button>
                    <button class="btn-devolver">Devolver</button>
                </div>
                <div class="livro">
                    <img src="img/dom.jpg" alt="Livro 2">
                    <button class="btn-ler">Reservado</button>
                    <button class="btn-devolver">Devolver</button>
                </div>

            </div>
        </section>

        <section id="destaques" class="sessao">
            <h2>DESTAQUES</h2>
            <div class="grade">
                <div class="livro">
                    <img src="img/os misera.jpg" alt="Livro 1">
                    <button class="btn-ler">Reservar</button>
                </div>
                <div class="livro">
                    <img src="img/dom.jpg" alt="Livro 2">
                    <button class="btn-ler">Reservar</button>
                </div>
                <div class="livro">
                    <div class="vazio"></div>
                    <button class="btn-ler">Reservar</button>
                </div>
                <div class="livro">
                    <img src="img/crime.jpg" alt="Livro 3">
                    <button class="btn-ler">Reservar</button>
                </div>
                <div class="livro">
                    <img src="img/irmaos.jpg" alt="Livro 3">
                    <button class="btn-ler">Reservar</button>
                </div>

            </div>
        </section>


        <section id="autores" class="sessao">
            <h2>AUTORES</h2>
            <div class="grade">
                <div class="livro">
                    <img src="img/machado.jpeg" alt="Livro 1">
                    <button class="btn-ler" name="Machado">Machado de Assis</button>
                </div>
                <div class="livro">
                    <img src="img/Clarice.jpg" alt="Livro 2">
                    <button class="btn-ler" name="Clarice Lispector">Clarice Lispector</button>
                </div>
                <div class="livro">
                    <img src="img/Carlos.jpg" alt="Livro 2">
                    <button class="btn-ler" name="Carlos Drummond">Carlos Drummond de Andrade</button>
                </div>
                <div class="livro">
                    <img src="img/Fernando Pessoa.jpg" alt="Livro 3">
                    <button class="btn-ler" name="Fernando Pessoa">Fernando Pessoa</button>
                </div>
                <div class="livro">
                    <img src="img/Guimaraes.jpg" alt="Livro 3">
                    <button class="btn-ler" name="Guimaraes">Guimarães Rosa</button>
                </div>

            </div>
        </section>

    </main>

</body>

<script>
    const bts = document.querySelectorAll('.btn-devolver');
    const bot = document.querySelectorAll('.')

    bts.forEach(function (botao) {
        botao.addEventListener("click", function () {
            if (botao.textContent === "Reservar") {
                botao.textContent = "Reservado";

                const livro = botao.closest('.livro');

                //Adicionar a lógica para adiconar um campo de livro NULL


                // Espera um pouquinho para o botão atualizar
                setTimeout(function () {
                    const destino = document.querySelector('.grade-reservados');
                    destino.appendChild(livro); // move o elemento
                    //Adicionar Lógica de colocar botao de devolver quando o elemento for movido

                }, 300);
            }
        });
    });

</script>

<script>

    // js do botao devolver

    const botoes = document.querySelectorAll('.btn-devolver')

    botoes.forEach(function (botao) {
        botao.addEventListener("click", function () {

            if (botao.textContent === "Devolver") {
                botao.textContent = "Devolvido";


                // Sobe até o .livro
                const livro = botao.closest('.livro');
                // Dentro de .livro, procura o botão .btn-ler
                const btnLer = livro.querySelector('.btn-ler');

                if (btnLer) {
                    btnLer.style.display = "none";

                }
                setTimeout(function () {
                    if (btnLer) {
                        livro.style.display = "none";
                    }
                }, 800)
            }

        });
    });


</script>

</html>